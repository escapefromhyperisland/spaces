<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Space Dreamer</title>

    <script defer src="endgame.js"></script>

    <script src="https://aframe.io/releases/1.1.0/aframe.min.js"></script>
    <script src="https://recast-api.donmccurdy.com/aframe-inspector-plugin-recast.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@5.0.0/dist/aframe-event-set-component.min.js"></script>
    <script src="https://unpkg.com/aframe-proxy-event-component/dist/aframe-proxy-event-component.min.js"></script>
  </head>

  <body>
    <a-scene tolevelthree endgame inspector-plugin-recast>
      <!-- Assets -->

      <a-assets>
        <img id="galaxy" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Fsky.jpg?v=1626084611958" />
        <img id="sand" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Fsand.png?v=1626084694869" />
        <a-asset-item id="star" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Fstar.glb?v=1626085458499"> </a-asset-item>
        <img id="text3" src="assets/text-lev-three.png" />

        <a-asset-item id="nav" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Fnavmesh.gltf?v=1626086123589"></a-asset-item>
        <a-asset-item id="goat" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Fgoat.glb?v=1626086145047"> </a-asset-item>

        <!--Level 2 path animals-->
        <a-asset-item id="badger" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Fbadger.glb?v=1626086570987"> </a-asset-item>
        <a-asset-item id="emu" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Femu.glb?v=1626086169232"> </a-asset-item>
        <a-asset-item id="owl" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Fowl.glb?v=1626086186646"> </a-asset-item>
        <a-asset-item id="fox" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Ffox.glb?v=1626086966970 "> </a-asset-item>
        <a-asset-item id="cat" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Fcat.glb?v=1626083767004"> </a-asset-item>

        <!--Level 2 animals that removes paths -->
        <a-asset-item id="dove" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Fdove.glb?v=1626086709069"> </a-asset-item>
        <a-asset-item id="rabbit" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Frabbit.glb?v=1626086243247"> </a-asset-item>
        <a-asset-item id="monkey" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Fmonkey.glb?v=1626086680033"> </a-asset-item>

        <!--Level 2 animals show distraction paths -->
        <a-asset-item id="tapir" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Ftapir.glb?v=1626086277659"> </a-asset-item>
        <a-asset-item id="jaguar" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Fjaguar.glb?v=1626086294036"> </a-asset-item>
        <a-asset-item id="parrot" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Fparrot.glb?v=1626086740597"> </a-asset-item>
        <a-asset-item id="ram" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Fram.glb?v=1626086724821"> </a-asset-item>
        <a-asset-item id="dingo" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Fdingo.glb?v=1626084523163"> </a-asset-item>

        <!--Level 3 path animals-->
        <!--1:st dove-->
        <a-asset-item id="giraffe" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Fgiraffe.glb?v=1626086791367"> </a-asset-item>
        
        <!--3:rd owl-->
        <a-asset-item id="alligator" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Falligator.glb?v=1626086376499"> </a-asset-item>
        <a-asset-item id="turtle" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Fturtle.glb?v=1626086810834"> </a-asset-item>

        <!--Level 3 show distraction paths animals -->
        <a-asset-item id="poodle" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Fpoodle.glb?v=1626086828245"> </a-asset-item>
        <a-asset-item id="hyena" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Fhyena.glb?v=1626086851795"> </a-asset-item>
        <a-asset-item id="bird" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Fbird.glb?v=1626086867806"> </a-asset-item>
        <a-asset-item id="cattlehorn" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Fcattlehorn.glb?v=1626084437960">
        </a-asset-item>
        <a-asset-item id="grasshopper" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Fgrasshopper.glb?v=1626086900421">
        </a-asset-item>

        <!-- Level 3 remove paths animals-->
        <a-asset-item id="gorilla" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Fbutterfly.glb?v=1626083743372"> </a-asset-item>
        <a-asset-item id="butterfly" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Fbutterfly.glb?v=1626086944244"> </a-asset-item>
        <a-asset-item id="bison" src="https://cdn.glitch.com/b5bafe8f-6f1b-46fe-9526-f628b6eef46a%2Fbison.glb?v=1626083719755"> </a-asset-item>
      </a-assets>
      <!-- Camera and lights -->
      <a-entity
        movement-controls="speed: 0.15; constrainToNavMesh: true"
        rotation="0 -90 0"
      >
        <a-entity
          camera
          position="0 2.6 52"
          look-controls="pointerLockEnabled: true"
        >
          <a-sound
            src="url(assets/space-sound2.mp3)"
            autoplay="true"
            position="0 0 0"
            loop="true"
            volume="0.5"
          ></a-sound>

          <a-entity
            velocity="0 -1.0297350002801977 0"
            cursor
            position="0 0 -1"
            geometry="primitive: sphere; radius: 0.009"
            material="color: #FFFFFF;  opacity: 0.6"
          ></a-entity> </a-entity
      ></a-entity>

      <a-scene>
        <a-entity light="type: ambient; intensity: 0.5;"></a-entity>
        <a-entity
          light="type: directional;
                         castShadow: true;
                         intensity: 0.4;
                      "
          position="-5 3 1.5"
        ></a-entity>
      </a-scene>

      <!-- Sky -->
      <a-sky src="#galaxy" rotation="0 0 0" radius="100"></a-sky>

      <!----------  Level 1 (epilogue) --------------->

      <a-gltf-model
        id="ground-nav-mesh"
        src="#nav"
        visible="false"
        nav-mesh
      ></a-gltf-model>

      <!-- level 1 Ground-->

      <a-plane
        src="#sand"
        opacity="0.4"
        rotation="-90 0 0"
        color="#303030"
        scale="25 25 25"
        position="52 0 0"
        material="shader: flat;"
      >
      </a-plane>

      <!----------------------------------------Level 2 ------------------------------------------------>
      <!-- Ground -->
      <a-plane
        src="#sand"
        opacity="0.4"
        rotation="-90 0 0"
        color="#313131"
        scale="25 25 25"
        position="0 0 0"
        material="shader: flat;"
      >
      </a-plane>

      <a-gltf-model
        id="door-to-level-three"
        src="#star"
        position="-42 2 -7.7"
        scale="0.003 0.003 0.003"
      
        event-set__hidestar="_event: click; _target: #door-to-level-three; visible: false;"
      >
      </a-gltf-model>

      <!---------------------------------------- Level 3 ------------------------------------------->
      <!-- Ground level three -->
      <a-plane
        src="#sand"
        opacity="0.4"
        rotation="-90 0 0"
        color="#313131"
        scale="25 25 25"
        position="-55 0 0"
        material="shader: flat;"
      >
      </a-plane>

      <!-- Objects that reveal level 3 path-->
      <a-gltf-model
        id="path-six-block"
        src="#dove"
        scale="0.8 0.8 0.8"
        position="-51 0.5 -9"
        color="#ffd66e"
        animation__scale="property: scale; dir: alternate; dur: 5000;
                           easing: easeInSine; loop: true; to: 0.35 0.35 0.35"
        event-set__shownpathsix="_event: click; _target: #path-six-box; visible: true;"
        event-set__shownextanimalok_="_event: click; _target: #path-seven-block; visible: true"
        event-set__shownextanimalnotok_="_event: click; _target: #not-path-block-one; visible: true"
        event-set__showtext="_event: click; _target: #level-three-instructions; visible: true;"
      ></a-gltf-model>

      <a-plane
        id="level-three-instructions"
        position="-51 5 -9"
        rotation="0 0 0"
        visible="false"
        src="#text3"
        transparent="true"
        scale="1.5 1.5 1.5"
        color="#313131"
        event-set__enter="_event: mouseenter; transparent:false; scale: 2 2 2;"
        event-set__leave="_event: mouseleave; transparent:true"
      ></a-plane>

      <a-gltf-model
        id="path-seven-block"
        src="#giraffe"
        position="-50 0 4"
        scale="0.05 0.05 0.05"
        color="#f8d57c"
        visible="false"
        event-set__shownpathseven="_event: click; _target: #path-seven-box; visible: true;"
        event-set__shownextanimalok_="_event: click; _target: #path-eight-block; visible: true"
        event-set__shownextanimalnotok_="_event: click; _target: #not-path-block-two; visible: true"
      ></a-gltf-model>

      <a-gltf-model
        id="path-eight-block"
        src="#owl"
        scale="0.05 0.05 0.05"
        position="-49.3 0.5 2.4"
        rotation="0 93 0"
        visible="false"
        event-set__shownpatheight="_event: click; _target: #path-eight-box; visible: true;"
        event-set__shownextanimalok_="_event: click; _target: #path-nine-block; visible: true"
        event-set__shownextanimalnotok_="_event: click; _target: #remove-box-one; visible: true"
      ></a-gltf-model>
      <a-gltf-model
        id="path-nine-block"
        src="#alligator"
        scale="0.2 0.2 0.2"
        rotation="0 54 0"
        position="-63 0 6"
        visible="false"
        event-set__shownpathnine="_event: click; _target: #path-nine-box; visible: true;"
        event-set__shownextanimalok_="_event: click; _target: #path-ten-block; visible: true"
        event-set__shownextanimalnotok_="_event: click; _target: #remove-box-two; visible: true"
      ></a-gltf-model>
      <a-gltf-model
        id="path-ten-block"
        src="#turtle"
        scale="0.08 0.08 0.08"
        rotation="0 167 0"
        position="-60 0.5 9.7"
        color="#fdf4dc"
        visible="false"
        event-set__shownpathten="_event: click; _target: #path-ten-box; visible: true;"
        event-set__shownextanimalnotok_="_event: click; _target: #not-path-block-three; visible: true"
        event-set__shownextanimalnotok2_="_event: click; _target: #not-path-block-four; visible: true"
        event-set__shownextanimalnotok3_="_event: click; _target: #remove-box-three; visible: true"
        event-set__shownextanimalok_="_event: click; _target: #path-twelve-block; visible: true"
      ></a-gltf-model>

      <!-- Objects for Level 3 Distraction Path -->
      <a-gltf-model
        src="#poodle"
        scale="0.05 0.05 0.05"
        id="not-path-block-one"
        position="-49 0 -6"
        visible="false"
        event-set__shownonpath="_event: click; _target: #not-path-six; visible: true;"
        event-set__shownextanimalnotok_="_event: click; _target: #not-path-block-five; visible: true"
      ></a-gltf-model>

      <a-gltf-model
        id="not-path-block-two"
        src="#hyena"
        scale="0.5 0.5 0.5"
        rotation="0 134 0"
        position="-51 0 -1.8"
        visible="false"
        event-set__shownonpath="_event: click; _target: #not-path-seven; visible: true;"
        event-set___hideanimal="_event: click; _target: #not-path-block-one; visible: false"
      ></a-gltf-model>

      <a-gltf-model
        src="#cattlehorn"
        id="not-path-block-three"
        position="-47 0 7.6"
        scale="0.15 0.15 0.15"
        rotation="0 129 0"
        visible="false"
        event-set__shownonpath="_event: click; _target: #not-path-eight; visible: true;"
      ></a-gltf-model>
      <a-gltf-model
        src="#bird"
        id="not-path-block-four"
        position="-52 0 9"
        scale="1 1 1"
        visible="false"
        event-set__shownonpath="_event: click; _target: #not-path-nine; visible: true;"
        event-set___hideanimal="_event: click; _target: #path-ten-box; visible: false"
      ></a-gltf-model>

      <a-gltf-model
        id="not-path-block-five"
        src="#grasshopper"
        position="-47 1.5 0"
        scale="0.01 0.01 0.01"
        rotation="0 46 0"
        visible="false"
        animation="property: position; dur: 1500; loop: true; dir:alternate; to: -47 1.6 0;"
        event-set___hideanimal="_event: click; _target: #path-eight-block; visible: false"
      ></a-gltf-model>

      <!-- Object to remove paths-->

      <a-gltf-model
        id="remove-box-one"
        src="#gorilla"
        position="-55 0 3"
        scale="0.1 0.1 0.1"
        rotation="0 83 0"
        visible="false"
        event-set___hideanimal="_event: click; _target: #path-seven-box; visible: false"
      ></a-gltf-model>

      <a-gltf-model
        id="remove-box-two"
        src="#butterfly"
        position="-46 1.5 -4"
        scale="0.3 0.3 0.3"
        rotation="0 46 0"
        visible="false"
        animation="property: position; dur: 1500; loop: true; dir:alternate; to: -46 1.6 -4;"
      ></a-gltf-model>

      <a-gltf-model
        src="#bison"
        id="remove-box-three"
        position="-58 0 -5"
        scale="0.1 0.1 0.1"
        visible="false"
        event-set__shownonpath="_event: click; _target: #path-ten-block; visible: false;"
        event-set___hideanimal="_event: click; _target: #path-seven-box; visible: false"
      ></a-gltf-model>

      <!--End game-->

      <a-gltf-model
        src="#star"
        id="path-twelve-block"
        position="-53 12 28"
        scale="0.01 0.01 0.01"
        rotation="90 90 0"
        visible="false"
        animation__spin="property: position; dur: 5000; dir: alternate; loop: true; to: -53 13 28;"
        event-set__shownpathseven="_event: click; _target: #path-twelve-box; visible: true;"
        event-set__shownextanimalok_="_event: click; _target: #end-the-game; visible: true"
      ></a-gltf-model>

      <a-gltf-model
        id="end-the-game"
        src="#goat"
        scale="0.5 0.5 0.5"
        position="-98 -7 0.2"
        rotation="0 0 0"
        visible="false"
        animation__spin="property: rotation; dur: 50000; loop: true; to: 0 1490 0;"
      >
      </a-gltf-model>
    </a-scene>
  </body>
</html>
