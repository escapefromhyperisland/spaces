<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Space Dreamer</title>

    <script defer src="endgame.js"></script>
   
    <script src="https://aframe.io/releases/1.1.0/aframe.min.js"></script>
    <script src="https://recast-api.donmccurdy.com/aframe-inspector-plugin-recast.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@4.2.1/dist/aframe-event-set-component.min.js"></script>
    <script src="https://unpkg.com/aframe-proxy-event-component/dist/aframe-proxy-event-component.min.js"></script>
  </head>

  <body>
    <a-scene
    tolevelthree
      endgame
      inspector-plugin-recast
      
    >
      <!-- Assets -->

      <a-assets>
        <img id="galaxy" src="assets/sky.jpg" />
        <img id="sand" src="assets/sand.png" />
        <a-asset-item id="star" src="assets/star.glb"> </a-asset-item>
        <a-asset-item id="swirl" src="assets/swirl.glb"> </a-asset-item>
        <a-asset-item id="door" src="assets/door.glb"> </a-asset-item>
        <img id="text3" src="assets/text-lev-three.png"/>

        <a-asset-item
        id="nav"
        src="assets/navmesh.gltf"
      ></a-asset-item>

        <!--Level 2 path animals-->
        <a-asset-item id="badger" src="assets/badger.glb"> </a-asset-item>
        <a-asset-item id="emu" src="assets/emu.glb"> </a-asset-item>
        <a-asset-item id="owl" src="assets/owl.glb"> </a-asset-item>
        <a-asset-item id="fox" src="assets/fox.glb"> </a-asset-item>
        <a-asset-item id="cat" src="assets/cat.glb"> </a-asset-item>

        <!--Level 2 animals that removes paths -->
        <a-asset-item id="dove" src="assets/dove.glb"> </a-asset-item>
        <a-asset-item id="rabbit" src="assets/rabbit.glb"> </a-asset-item>
        <a-asset-item id="monkey" src="assets/monkey.glb"> </a-asset-item>

        <!--Level 2 animals show distraction paths -->
        <a-asset-item id="tapir" src="assets/tapir.glb"> </a-asset-item>
        <a-asset-item id="jaguar" src="assets/jaguar.glb"> </a-asset-item>
        <a-asset-item id="parrot" src="assets/parrot.glb"> </a-asset-item>
        <a-asset-item id="ram" src="assets/ram.glb"> </a-asset-item>
        <a-asset-item id="dingo" src="assets/dingo.glb"> </a-asset-item>

        <!--Level 3 path animals-->
        <!--1:st dove-->
        <a-asset-item id="giraffe" src="assets/giraffe.glb"> </a-asset-item>
        <a-asset-item id="alligator" src="assets/alligator.glb"> </a-asset-item>
        <!--3:rd owl-->
        <a-asset-item id="turtle" src="assets/turtle.glb"> </a-asset-item>

        <!--Level 3 show distraction paths animals -->
        <a-asset-item id="poodle" src="assets/poodle.glb"> </a-asset-item>
        <a-asset-item id="lion" src="assets/lion.glb"> </a-asset-item>
        <a-asset-item id="bird" src="assets/bird.glb"> </a-asset-item>
        <a-asset-item id="cattlehorn" src="assets/cattlehorn.glb">
        </a-asset-item>

        <!-- Level 3 remove paths animals-->
        <a-asset-item id="gorilla" src="assets/gorilla.glb"> </a-asset-item>
        <a-asset-item id="butterfly" src="assets/butterfly.glb"> </a-asset-item>
        <a-asset-item id="bison" src="assets/bison.glb"> </a-asset-item>
      </a-assets>
      <!-- Camera and lights -->
      <a-entity
        movement-controls="speed: 0.15; constrainToNavMesh: true"
        rotation="0 -90 0"
      >
        <a-entity
          camera
          position="0 2.6 52"
          look-controls="pointerLockEnabled: true"
          >
          <a-sound src="url(assets/space-sound.ogg)" autoplay="true"
               position="0 0 0" loop="true" volume="0.2"></a-sound>
          <a-entity
            velocity="0 -1.0297350002801977 0"
            cursor
            position="0 0 -1"
            geometry="primitive: sphere; radius: 0.009"
            material="color: #FFFFFF;  opacity: 0.6"
          ></a-entity> 
          </a-entity
      ></a-entity>

      <a-scene>
        <a-entity light="type: ambient; intensity: 0.5;"></a-entity>
        <a-entity light="type: directional;
                         castShadow: true;
                         intensity: 0.4;
                      "
                  position="-5 3 1.5"></a-entity>
      </a-scene>

      <!-- Sky -->
      <a-sky src="#galaxy" rotation="0 0 0" radius="100"></a-sky>

      <!----------  Level 1 (epilogue) --------------->

      <a-gltf-model
        id="ground-nav-mesh"
        src="#nav"
        visible="false"
        nav-mesh
      ></a-gltf-model>

      <!-- level 1 Ground-->

      <a-plane
        src="#sand"
        rotation="-90 0 0"
        color="#303030"
        scale="25 25 25"
        position="52 0 0"
        material="shader: flat;"
      >
      </a-plane>
  

      <!----------------------------------------Level 2 ------------------------------------------------>
      <!-- Ground -->
      <a-plane
        src="#sand"
        rotation="-90 0 0"
        color="#313131"
        scale="25 25 25"
        position="0 0 0"
        material="shader: flat;"
      >
      </a-plane>

      <a-gltf-model
      id="door-to-level-three"
      src="#star"
      position="-42 2 -7.7"
      scale="0.001 0.001 0.001"
      animation="property: position; dur: 1500; loop: true; dir:alternate; to: -42.5 2.2 -7.8;"
      event-set__enter="_event: mouseenter; scale: 0.001 0.001 0.001"
        event-set__leave="_event: mouseleave; scale: 0.0012 0.0012 0.0012"
      >

      </a-gltf-model>

      <!---------------------------------------- Level 3 ------------------------------------------->
      <!-- Ground level three -->
      <a-plane
        src="#sand"
        rotation="-90 0 0"
        color="#313131"
        scale="25 25 25"
        position="-55 0 0"
        material="shader: flat;"
      >
      </a-plane>

      <!-- Objects that reveal level 3 path-->
      <a-gltf-model
        id="path-six-block"
        src="#dove"
        scale="0.25 0.25 0.25"
        position="-51 0.5 -9"
        color="#ffd66e"
        animation="property: position; dur: 2000; loop: true; dir:alternate; to: -51.2 0.7 -9.1;"
        event-set__shownpathsix="_event: click; _target: #path-six-box; visible: true;"
        event-set__shownextanimalok_="_event: click; _target: #path-seven-block; visible: true"
        event-set__shownextanimalnotok_="_event: click; _target: #not-path-block-one; visible: true"
        event-set__showtext="_event: click; _target: #level-three-instructions; visible: true;"
      ></a-gltf-model>

      <a-plane
      id="level-three-instructions"
      position="-51 5 -9"
      rotation="0 0 0"
      visible="false"
      src="#text3"
      transparent="true"
      scale="1.5 1.5 1.5"
      color="#313131"
      event-set__enter="_event: mouseenter; transparent:false; scale: 2 2 2;"
    event-set__leave="_event: mouseleave; transparent:true"
    ></a-plane>
 

      <a-gltf-model
        id="path-seven-block"
        src="#giraffe"
        position="-55 0.5 4"
        scale="0.1 0.1 0.1"
        color="#f8d57c"
        visible="false"
        event-set__shownpathseven="_event: click; _target: #path-seven-box; visible: true;"
        event-set__shownextanimalok_="_event: click; _target: #path-eight-block; visible: true"
        event-set__shownextanimalnotok_="_event: click; _target: #not-path-block-two; visible: true"
      ></a-gltf-model>

      <a-gltf-model
        id="path-eight-block"
        src="#owl"
        scale="0.05 0.05 0.05"
        position="-48.3 0.5 5.4"
        visible="false"
        event-set__shownpatheight="_event: click; _target: #path-eight-box; visible: true;"
        event-set__shownextanimalok_="_event: click; _target: #path-nine-block; visible: true"
        event-set__shownextanimalnotok_="_event: click; _target: #remove-box-one; visible: true"
      ></a-gltf-model>
      <a-gltf-model
        id="path-nine-block"
        src="#alligator"
        scale="0.2 0.2 0.2"
        rotation="0 54 0"
        position="-63 0 6"
        visible="false"
        event-set__shownpathnine="_event: click; _target: #path-nine-box; visible: true;"
        event-set__shownextanimalok_="_event: click; _target: #path-ten-block; visible: true"
        event-set__shownextanimalnotok_="_event: click; _target: #remove-box-two; visible: true"
      ></a-gltf-model>
      <a-gltf-model
        id="path-ten-block"
        src="#turtle"
        scale="0.08 0.08 0.08"
        rotation="0 167 0"
        position="-60 0.5 9.7"
        color="#fdf4dc"
        visible="false"
        event-set__shownpathten="_event: click; _target: #path-ten-box; visible: true;"
        event-set__shownextanimalnotok_="_event: click; _target: #not-path-block-three; visible: true"
        event-set__shownextanimalnotok2_="_event: click; _target: #not-path-block-four; visible: true"
        event-set__shownextanimalnotok3_="_event: click; _target: #remove-box-three; visible: true"
        event-set__shownextanimalok_="_event: click; _target: #path-twelve-block; visible: true"
      ></a-gltf-model>

      <a-gltf-model
        src="#star"
        id="path-twelve-block"
        position="-53 12 38"
        scale="0.01 0.01 0.01"
        rotation="90 90 0"
        visible="true"
        animation__spin="property: position; dur: 5000; dir: alternate; loop: true; to: -53 8 18;"
        event-set__shownpathseven="_event: click; _target: #path-twelve-box; visible: true;"
        event-set__shownextanimalok_="_event: click; _target: #end-the-game; visible: true"
      ></a-gltf-model>

      <!-- Objects for Level 3 Distraction Path -->
      <a-gltf-model
        src="#poodle"
        scale="0.05 0.05 0.05"
        id="not-path-block-one"
        position="-49 0 -6"
        visible="false"
        event-set__shownonpath="_event: click; _target: #not-path-six; visible: true;"
      ></a-gltf-model>

      <a-gltf-model
        id="not-path-block-two"
        src="#lion"
        scale="0.15 0.15 0.15"
        rotation="0 134 0"
        position="-51 0 -1.8"
        visible="false"
        event-set__shownonpath="_event: click; _target: #not-path-seven; visible: true;"
        event-set___hideanimal="_event: click; _target: #not-path-block-one; visible: false"
      ></a-gltf-model>

      <a-gltf-model
        src="#cattlehorn"
        id="not-path-block-three"
        position="-47 0 7.6"
        scale="0.15 0.15 0.15"
        rotation="0 129 0"
        visible="false"
        event-set__shownonpath="_event: click; _target: #not-path-eight; visible: true;"
      ></a-gltf-model>
      <a-gltf-model
        src="#bird"
        id="not-path-block-four"
        position="-52 0 9"
        scale="1 1 1"
        visible="false"
        event-set__shownonpath="_event: click; _target: #not-path-nine; visible: true;"
        event-set___hideanimal="_event: click; _target: #path-ten-box; visible: false"
      ></a-gltf-model>

      <!-- Object to remove paths-->

      <a-gltf-model
        id="remove-box-one"
        src="#gorilla"
        position="-58 0 3"
        scale="0.1 0.1 0.1"
        rotation="0 83 0"
        event-set__shownonpath="_event: click; _target: #path-six-block; visible: false;"
        visible="false"
      ></a-gltf-model>

      <a-gltf-model
        id="remove-box-two"
        src="#butterfly"
        position="-46 1.5 4"
        scale="0.3 0.3 0.3"
        rotation="0 46 0"
        visible="false"
        animation="property: position; dur: 1500; loop: true; dir:alternate; to: -46 1.6 4;"
        event-set__shownonpath="_event: click; _target: #path-eight-block; visible: false;"
        event-set___hideanimal="_event: click; _target: #path-seven-nine; visible: false;"
      ></a-gltf-model>

      <a-gltf-model
        src="#bison"
        id="remove-box-three"
        position="-58 0 -5"
        scale="0.1 0.1 0.1"
        visible="false"
        event-set__shownonpath="_event: click; _target: #path-ten-block; visible: false;"
        event-set___hideanimal="_event: click; _target: #path-seven-box; visible: false"
      ></a-gltf-model>

      <!-- Level 3 paths -->

      <a-box
        id="path-six-box"
        position="-52 -0.7 20"
        scale="10 1 2"
        opacity="0.8"
        color="pink"
        rotation="0 90 0"
        visible="false"
      ></a-box>

      <a-box
        id="path-seven-box"
        position="-72 -0.7 2"
        scale="10 1 2"
        opacity="0.8"
        color="pink"
        visible="false"
      ></a-box>
      <a-box
        id="path-eight-box"
        position="-74 -0.7 9"
        scale="2 1 14"
        opacity="0.8"
        color="pink"
        visible="false"
      ></a-box>
      <a-box
        id="path-nine-box"
        position="-45 -0.7 12"
        scale="4 1 2"
        opacity="0.8"
        color="pink"
        visible="false"
        rotation="0 90 0"
      ></a-box>

      <a-box
        id="path-ten-box"
        position="-60 -0.7 15"
        scale="30 1 2"
        opacity="0.8"
        color="pink"
        visible="false"
      ></a-box>

      <a-box
        id="path-twelve-box"
        position="-82 -0.7 0.59"
        scale="16 1 2"
        opacity="0.8"
        color="pink"
        visible="false"
      ></a-box>

      <!-- Level 3 Distraction Path  -->
      <a-box
        id="not-path-six"
        position="-69 -0.7 -10"
        scale="5 1 2"
        opacity="0.8"
        color="pink"
        visible="false"
      ></a-box>
      <a-box
        id="not-path-seven"
        position="-71 -0.7 -14"
        scale="6 1 2"
        opacity="0.8"
        color="pink"
        visible="false"
        rotation="0 90 0"
      ></a-box>

      <a-box
        id="not-path-eight"
        position="-77 -0.7 11"
        scale="5 1 2"
        opacity="0.8"
        color="pink"
        visible="false"
      ></a-box>
      <a-box
        id="not-path-nine"
        position="-73 -0.7 -17"
        scale="10 1 2"
        opacity="0.8"
        color="pink"
        visible="false"
      ></a-box>

      <!--end game-->

      <a-gltf-model
        id="end-the-game"
        src="#swirl"
        scale="0.5 0.5 0.5"
        position="-90 8 0.2"
        rotation="90 90 0"
        visible="false"
        opacity="0.5"
        animation="property: position; dur: 1500; loop: true; dir:alternate; to: -105.5 6 1.2;"
       
      >
      </a-gltf-model>
    </a-scene>
  </body>
</html>
